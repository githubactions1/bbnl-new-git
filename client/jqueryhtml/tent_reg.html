<!DOCTYPE html>
<html>
<style>
    .texthead {
        font-size: 22px;
        font-weight: 700;
        font-family: Calibri;
    }

    .txtcrd {
        width: 90%;
    }

    .crdtop {
        background-color: #fff7df;
    }

    .crdtptxt {
        float: left;
        padding: 0.5%;
        font-size: 16px !important;
        font-weight: 500;
    }

    .selct {
        width: 35%;
        margin-top: 0%;
        height: 40px;
        border-radius: 6px;
        padding: 1%;
    }

    .ptxt {
        text-align: left;
        font-size: 15px;
        font-weight: 400;
        margin-bottom: 0.5px;
    }

    input[type=text],
    select {
        width: 100%;
        padding: 12px;
        margin: 2px 0;
        display: inline-block;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
        background: #f7f7f7;
    }

    .custom-select {
        background-color: #f7f7f7 !important;


    }

    .form-control:disabled,
    .form-control[readonly] {
        background-color: #f7f7f7 !important;
        opacity: 1;
    }

    label {
        float: left
    }

    .input-group-addon {
        padding: 6px 12px;
        font-size: 14px;
        font-weight: 400;
        line-height: 1;
        color: #555;
        text-align: center;
        background-color: #f7f7f7;
        border: 1px solid #ccc;
        border-radius: 4px;
    }

    .input-group-addon,
    .input-group-btn {
        width: 12%;
        white-space: nowrap;
        vertical-align: middle;
        margin-top: 0.6%;
        height: 38px;
    }

    .input-group-addon,
    .input-group-btn,
    .input-group .form-control {
        display: table-cell;
        border-collapse: separate;
    }

    .input-group-addon:last-child {
        border-left: 0;
    }

    .input-group-addon:last-child {
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
    }

    label {
        display: inline-block;
        margin-bottom: 0px !important;
    }

    .glyphicon {
        position: relative;
        top: 4px;
        display: inline-block;
        font-family: 'Glyphicons Halflings';
        font-style: normal;
        font-weight: 700;
        line-height: 1;
        font-size: 17px;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    .form-group {
        margin-bottom: 0 !important;
    }

    .plusfa {
        float: right;
        margin: 0.5%;
        font-size: 19px;
        color: green;
    }
    .btncss{
        width: 11%;
    margin: 16px auto;
    display: block;
    background-color: #03A9F4;
    color: white;
    text-transform: uppercase;
    padding: 10px 0px;
    border-radius: 3px;
    cursor: pointer;
    }
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" type="text/javascript"></script>
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.min.js"
    type="text/javascript"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.css" rel="stylesheet"
    type="text/css" />
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet"
    type="text/css" />

<body>
    <div class="container">
        <p class="texthead">Tenant</p>
        <center>
            <div class="card">
                <div class="container">
                    <form id="tnt_info">
                        <div class="card" class="txtcrd" style="margin: 2% !important;">
                            <div class="card-img-top crdtop"><span class="crdtptxt">Tenant Registration</span></div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput">First Name&nbsp;<span
                                                    style="color: red;font-weight: 700;font-size: 20px;">*</span></label>
                                            <input type="text" class="form-control" id="tnt_fst_nm"
                                                placeholder="Enter First Name" required>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput">Last Name&nbsp;<span
                                                    style="color: red;font-weight: 700;font-size: 20px;">*</span></label>
                                            <input type="text" class="form-control" id="tnt_lst_nm"
                                                placeholder="Enter Last Name" required>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput">Mobile Number&nbsp;<span
                                                    style="color: red;font-weight: 700;font-size: 20px;">*</span></label>
                                            <input type="text" class="form-control" id="tnt_mbl_num"
                                                placeholder="Enter Mobile Number" maxlength="10" required>
                                            <span id="errmsg" style="color:red;float: right;margin: 2%;"></span>
                                            <p id="err_msg"></p>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput">Aadhaar</label>
                                            <input type="text" class="form-control" id="tnt_adhr"
                                                placeholder="Enter Aadhaar">
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput2">PAN</label>
                                            <input type="text" class="form-control" id="tnt_pan"
                                                placeholder="Enter PAN">
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput2">TAN</label>
                                            <input type="text" class="form-control" id="tnt_tan"
                                                placeholder="Enter TAN">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput">TIN</label>
                                            <input type="text" class="form-control" id="tnt_tin"
                                                placeholder="Enter TIN">
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput2">GST</label>
                                            <input type="text" class="form-control" id="tnt_gst"
                                                placeholder="Enter GST">
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput2">VAT</label>
                                            <input type="text" class="form-control" id="tnt_vat"
                                                placeholder="Enter VAT">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput">Permenant Address</label>
                                            <textarea type="text" class="form-control" id="tnt_addrs1"
                                                placeholder="Enter Permenant Address"></textarea>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput2">Temorary Address</label>
                                            <textarea type="text" class="form-control" id="tnt_addrs2"
                                                placeholder="Enter Temorary Address"></textarea>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput2">Locality</label>
                                            <input type="text" class="form-control" id="tnt_locty"
                                                placeholder="Enter Locality">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput">State</label>
                                            <select class="custom-select" id="states">
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput">District</label>
                                            <select class="custom-select" id="distrcByStat">
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput">Mandal</label>
                                            <select class="custom-select" id="mndlstByDist">
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput">Village</label>
                                            <select class="custom-select" id="villageByMndl">
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput">Postal Registration No</label>
                                            <input type="text" class="form-control" id="tnt_pstl_regst_num"
                                                placeholder="Enter Postal Registration No">
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput2">Postal Expiration Date</label>
                                            <div class="input-group date" data-provide="datepicker">
                                                <input type="text" class="form-control" readonly>
                                                <div class="input-group-addon">
                                                    <span class="glyphicon glyphicon-th"><i
                                                            class="fa fa-calendar"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput">Cable Type</label>
                                            <select class="custom-select" id="cbltyp">
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput2">Total Number Of House Holds</label>
                                            <input type="text" class="form-control" id="tnt_huse_hlds"
                                                placeholder="Enter Total Number House Holds">
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput2">Total Number Of Estimated
                                                Connections</label>
                                            <input type="text" class="form-control" id="tnt_concts"
                                                placeholder="Enter Total Number Of Estimated Connections">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput2">Email</label>
                                            <input type="text" class="form-control" id="tnt_email"
                                                placeholder="Enter Email" required>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput2">Company Name</label>
                                            <input type="text" class="form-control" id="tnt_cmpny_nme"
                                                placeholder="Enter Company Name">
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput2">GST Number</label>
                                            <input type="text" class="form-control" id="tnt_gst_num"
                                                placeholder="Enter GST Number">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card" class="txtcrd" style="margin: 2% !important;">
                            <div class="card-img-top crdtop"><span class="crdtptxt">Select Area</span></div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput">State</label>
                                            <select class="custom-select" id="states">
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput">District</label>
                                            <select class="custom-select" id="distrcByStat">
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput">Mandal</label>
                                            <select class="custom-select" id="mndlstByDist">
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-group">
                                            <label for="formGroupExampleInput">Village</label>
                                            <select class="custom-select" id="villageByMndl">
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <input type="submit" class="btncss" value="submit">
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </center>
    </div>
</body>
<script>


    let tent_typ = [{
        id: 1,
        typ_name: "APSFL"
    }, {
        id: 2,
        typ_name: "MSP"
    }, {
        id: 3, typ_name: "LMO"
    }, {
        id: 4,
        typ_name: "SI"
    }, {
        id: 5, typ_name: "CALL CENTER"
    }, {
        id: 6,
        typ_name: "APSFL NOC"
    }, {
        id: 7,
        typ_name: "VENDORADMIN"
    }, {
        id: 8,
        typ_name: "OCC"
    }]
    let cable_typ = [{
        id: 1,
        cbl_typ_name: "12 Fiber"
    }, {
        id: 2,
        cbl_typ_name: "2 Fiber"
    }, {
        id: 3, cbl_typ_name: "24 Fiber"
    }, {
        id: 4,
        cbl_typ_name: "4 Fiber"
    }, {
        id: 5, cbl_typ_name: "6 Fiber"
    }, {
        id: 6,
        cbl_typ_name: "RG-11"
    }, {
        id: 7,
        cbl_typ_name: "RG-6"
    }]

    $.each(tent_typ, function (index, value) {
        $("#tntTyp").append("<option value=" + value.id + ">" + value.typ_name + "</option>")
    });
    $.each(cable_typ, function (index, value) {
        $("#cbltyp").append("<option value=" + value.id + ">" + value.cbl_typ_name + "</option>")
    });


    //*************** GET STATES ***************//
    let url3 = `http://localhost:4901/apiv1/user/getstates`
    $.ajax({
        type: 'GET',
        url: url3,
        headers: { "x-access-token": localStorage.getItem('x-access-token') },
        success: function (response, status, xhr) {
            console.log(response.data)
            if (response.status == 200) {
                $.each(response.data, function (index, value) {
                    $("#states").append("<option value=" + value.ste_id + ">" + value.ste_nm + "</option>")
                });

            }
        },
        error: function (request, textStatus, errorThrown) {

        }
    });
    //*************** GET DISTRICTS BY STATE SELECTION ***************//

    $("#states").change(function (e) {
        var selectedText = $(this).find("option:selected").text();
        var selectedValue = $(this).val();
        if (selectedValue) {
            let url = `http://localhost:4901/apiv1/user/getdstrcts/${114841790497947660}`
            $.ajax({
                type: 'GET',
                url: url,
                headers: { "x-access-token": localStorage.getItem('x-access-token') },
                success: function (response, status, xhr) {
                    console.log(response.data)
                    if (response.status == 200) {
                        districtdat = response.data
                        $.each(response.data, function (index, value) {
                            $("#distrcByStat").append("<option value=" + value.dstrt_id + ">" + value.dstrt_nm + "</option>")
                        });

                    }
                },
                error: function (request, textStatus, errorThrown) {

                }
            });
        }
    })
    //*************** GET MANDALS BY DISTRICT SELECTION ***************//

    $("#distrcByStat").change(function (e) {
        var selectedText = $(this).find("option:selected").text();
        var selectedValue = $(this).val();
        if (selectedValue) {
            var inHTML = "";
            let url1 = `http://localhost:4901/apiv1/user/getMndls/${selectedValue}`

            $.ajax({
                type: 'GET',
                url: url1,
                headers: { "x-access-token": localStorage.getItem('x-access-token') },
                success: function (response, status, xhr) {
                    console.log(response.data)
                    var inHTML = "";
                    if (response.status == 200) {
                        $.each(response.data, function (index, value) {
                            var newItem = "<option value=" + value.mndl_id + ">" + value.mndl_nm + "</option>"
                            inHTML += newItem;
                        });
                        $("select#mndlstByDist").html(inHTML);

                    }
                },
                error: function (request, textStatus, errorThrown) {

                }
            });
        }
    })

    //*************** GET VILLAGES BY MANDAL SELECTION ***************//

    $("#mndlstByDist").change(function (e) {
        var selectedText = $(this).find("option:selected").text();
        var selectedValue = $(this).val();
        if (selectedValue) {
            var inHTML = "";
            let url2 = `http://localhost:4901/apiv1/user/getvlgs/${selectedValue}`;
            $.ajax({
                type: 'GET',
                url: url2,
                headers: { "x-access-token": localStorage.getItem('x-access-token') },
                success: function (response, status, xhr) {
                    console.log(response.data)
                    var inHTML = "";
                    if (response.status == 200) {
                        villgesdat = response.data
                        $.each(response.data, function (index, value) {
                            var newItem = "<option value=" + value.vlge_id + ">" + value.vlge_nm + "</option>"
                            inHTML += newItem;
                        });
                        $("select#villageByMndl").html(inHTML)
                    }
                },
                error: function (request, textStatus, errorThrown) {

                }
            });
        }
    })
    $("#tnt_mbl_num").keypress(function (e) {
        // Allow only backspace and delete
        if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
            //display error message
            $("#errmsg").html("Digits Only").show().fadeOut("slow");
            return false;
        }
    });

    $('#tnt_info').submit(function (e) {
        e.preventDefault()
        // get all the inputs into an array.
        var $inputs = $('#tnt_info :input');

        // not sure if you wanted this, but I thought I'd add it.
        // get an associative array of just the values.
        var values = {};
        $inputs.each(function () {
            values[this.id] = $(this).val();
        });
        console.log("nvjkggggggggghg")
        console.log(values)

    });
    $('#datepicker').datepicker({
        format: 'YYYY-MM-DD',
    });

</script>

</html>