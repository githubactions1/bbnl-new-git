<div class="page-layout simple pageBackground">

    <pg-top-header [headerDtls]="getHeaderDtls()"></pg-top-header>
    <!-- <div class="text-right gridBtns" >
        <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style">
            <mat-button-toggle *ngIf="(permissions.insrt_in==1)?true:false" id="addGridBtn" (click)="addNewEntry()">Add New {{formDetails.stngs.form_title}}</mat-button-toggle>
        </mat-button-toggle-group> 
      
    </div> -->

  

    <div class="ds-card m-12" *ngIf="(permissions.slct_in==1)?true:false">
        <dx-data-grid class="p-8" id="gridContainer" (onToolbarPreparing)="(permissions.insrt_in==1)?onToolbarPreparing($event):false"
                [dataSource]="gridData"
                [remoteOperations]="false"
                [allowColumnReordering]="true"
                [rowAlternationEnabled]="true"
                [allowColumnResizing]="true"
                [showColumnLines]="true"
                [showRowLines]="true"
                [showBorders]="true"
                style="width:100%">
                <!-- <dxo-selection mode="multiple"></dxo-selection> -->
                <dxo-paging [pageSize]="10"></dxo-paging>
                <dxo-pager [visible]="true" [showPageSizeSelector]="true" [allowedPageSizes]="[10, 25, 50, 100]" [showInfo]="true"></dxo-pager>
                <dxo-search-panel [visible]="true" [highlightCaseSensitive]="true" ></dxo-search-panel>
                <dxo-filter-panel [visible]="true"></dxo-filter-panel>
                <dxo-group-panel [visible]="true" ></dxo-group-panel>
                <dxo-grouping [autoExpandAll]="false" ></dxo-grouping>
                <dxo-column-chooser [enabled]="true" mode="select"> <!-- or "select" -->
                </dxo-column-chooser>
                <dxo-export [enabled]="(permissions.exprt_in==1)?true:false" [allowExportSelectedData]="true"></dxo-export>
                <dxo-filter-row [visible]="true"></dxo-filter-row>
                <dxi-column *ngFor="let f of columnDefs" [visible]="!f.hide" [dataField]="f.field" [caption]="f.headerName" [width]="f.width" [allowResizing]="true" [alignment]="f.alignment" [allowFiltering]="f.filter"></dxi-column>
                    <dxi-column [showInColumnChooser]="false"  [visible]="(permissions.updt_in==1)?true:false" type="buttons" [width]="100" caption="Edit" cellTemplate="editTemplate">
                         <div *dxTemplate="let data of 'editTemplate'">  
                            <div class="tblEdtBtn" (click)="onEdit2(data)">  
                                Edit  
                            </div>  
                        </div>
                    </dxi-column>
                    <dxi-column [showInColumnChooser]="false" [visible]="(permissions.dlte_in==1)?true:false"  type="buttons" [width]="100" caption="Delete" cellTemplate="delTemplate" >
                         <div *dxTemplate="let data of 'delTemplate'">  
                            <div class="tblDelBtn" (click)="onDelete2(data)">  
                                Delete  
                            </div>  
                        </div>
                    </dxi-column>
         </dx-data-grid>

    </div>
    <div *ngIf="(permissions.slct_in==1)?false:true" class="permMsg">{{mainMessage}}</div>
    
 </div>

<!-- sidebar -->
<ds-sidebar  class="form-panel ds-form-sidebar" name="addFormPanel" position="right" [invisibleOverlay]="false">
    <ng-container>
       <!-- <div fxLayout="column">
  
            <div class="card">
                <div class="card-header crdHdng">{{formDetails.stngs.form_title}}
                    <mat-icon matTooltip="close" (click)="closeSideBar()" class="closeSidebar" style="float:right">cancel </mat-icon>
                </div>
                <div class="card-body">
                    <ds-form-builder (formEvent)="formEventTriggered($event)" [formDetails]="formDetails" [initData2]="initdata"></ds-form-builder>
                </div>
            </div>
  
        </div> -->
  
        <mat-toolbar class="side-bar-header-color">
            <div fxLayout="row" fxLayoutAlign="start" fxLayout.gt-xs="row" fxLayoutAlign.gt-xs="space-between"
              class="w-100-p">
              <div fxFlex fxFlex.gt-lg="90%" fxFlex.gt-md="90%" fxFlex.gt-sm="100%" fxFlex.gt-xs="100%">
                <span>{{leftsidebarHdng}}</span>
              </div>
              <div fxFlex fxFlex.gt-lg="10%" fxFlex.gt-md="10%" fxFlex.gt-sm="100%" fxFlex.gt-xs="100%" class="text-right">
                <span>
                  <mat-icon matTooltip="close" (click)="openSideBar1('addFormPanel',null,null)" class="closeSidebar">cancel
                  </mat-icon>
                </span>
              </div>
            </div>
          </mat-toolbar>
          <form [formGroup]="sbCtgryForm" style="width:100%" class="p-12" fxLayout="column">
    
    
    
            <div fxLayout="row" fxLayout.xs="column">
              <div fxFlex="100" fxFlex.xs="100" class="px-8">
                <div class="form-label">Enter Sub-Category Name</div>
                <mat-form-field appearance="outline">
                  <input matInput formControlName="tckt_sb_ctgry_nm" required>
                  <mat-error>Sub-Category Name is required!</mat-error>
                </mat-form-field>
              </div>
            </div>
    
            <div fxLayout="row" fxLayout.xs="column">
              <div fxFlex="100" fxFlex.xs="100" class="px-8">
                <div class="form-label">Ticket Category</div>
                <mat-form-field appearance="outline">
                  <mat-select placeholder="Ticket Category" formControlName="tckt_ctgry_id" required>
                    <mat-option *ngFor="let t of tcktCtgryLst" [value]="t.tckt_ctgry_id">
                      {{t.tckt_ctgry_nm}}
                    </mat-option>
                  </mat-select>
                  <mat-error>Ticket Category is required!</mat-error>
                </mat-form-field>
              </div>
            </div>
          </form>
          <div class="m-0 p-16" fxLayout="row" fxLayoutAlign="center">
              <button mat-button class="mat-raised-button  deleteBtn-color" aria-label="Delete" matTooltip="Delete" *ngIf="deleteEmplye"
                (click)="delpackage()">
                DELETE
              </button>
              <button mat-flat-button type="submit" class="mat-raised-button  gtDtls" aria-label="SAVE" *ngIf="!deleteEmplye" [disabled]="!sbCtgryForm.valid"
                (click)="savesbctgry()">
                SAVE
              </button>
              <button mat-flat-button type="submit" class="mat-raised-button  cnclBtn-color ml-8" aria-label="SAVE"
                (click)="openSideBar1('addFormPanel',null,null)">
                CANCEL
              </button>
          </div>
    </ng-container>
  </ds-sidebar>
<!-- sidebar -->






