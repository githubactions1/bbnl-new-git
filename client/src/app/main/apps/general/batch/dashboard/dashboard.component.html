<div class="page-layout blank usrEmplye pageBackground cusAcntCmpnt">
  <pg-top-header [headerDtls]="getHeaderDtls()"></pg-top-header>
  <div fxLayout="row">
    <div fxFlex="80"></div>
    <div fxFlex="16">

      <!-- <button class="addBtn-color mb-8 mt-8 mat-raised-button mat-primary" color="primary" mat-raised-button=""
        style="float:right" (click)="opensideBar('addFormPanel',null)">
        <span class="mat-button-wrapper">
          <mat-icon class="addfld-icon-color mat-icon material-icons mat-icon-no-color" role="img" aria-hidden="true">
            person</mat-icon>
          <span class="pt-2">&nbsp;Add New Customer</span>
        </span>
      </button> -->

    </div>
  </div>
  <div fxLayout.xl="row" fxLayout.lg="row" fxLayout.md="row" fxLayout.xs="column" class="ds-card m-12">
    <!-- <div fxFlex="3" fxFlex.xs="100" class="px-8"></div> -->
    <div div fxFlex.xl="25" fxFlex.lg="25" fxFlex.md="50" fxFlex.xs="100" class="px-8">
      <div class="form-label">Select From Date</div>
      <mat-form-field appearance="outline">
        <input matInput [matDatepicker]="picker" [(ngModel)]="fromdate" required>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <!-- <mat-error>Activation Date is required!</mat-error> -->
      </mat-form-field>
    </div>
    <div div fxFlex.xl="25" fxFlex.lg="25" fxFlex.md="50" fxFlex.xs="100" class="px-8">
      <div class="form-label">Select To Date</div>
      <mat-form-field appearance="outline">
        <input matInput [matDatepicker]="picker1" [(ngModel)]="todate" required>
        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
        <mat-datepicker #picker1></mat-datepicker>
        <!-- <mat-error>Activation Date is required!</mat-error> -->
      </mat-form-field>
    </div>
    <div fxFlex="10" fxFlex.xs="100" class="px-8">
      <button mat-raised-button (click)="getjobsdata()" class="gtDtls gtBTn" >Get Data</button>
    </div>
    <!-- <div fxFlex="37" fxFlex.xs="100" class="px-8"></div> -->
    <!-- <div fxFlex="10" fxFlex.xs="100" class="px-8">
      <button mat-raised-button (click)="onLogCellClick()" style="margin-top: 30px;padding: 7px;">log</button>
    </div> -->
  </div>
 

  <div class="pt-0">
    <div class="ds-card m-12">
    <div class="ds-card">
      <dx-data-grid id="gridContainer" [dataSource]="hstrydata" [remoteOperations]="false"
        [allowColumnReordering]="true" [allowColumnResizing]="true" [rowAlternationEnabled]="true" [showColumnLines]="true" [showRowLines]="true"
        [showBorders]="true" style="width:100%">

        <dxo-paging [pageSize]="10"></dxo-paging>
        <dxo-pager [visible]="true" [showPageSizeSelector]="true" [showInfo]="true" [allowedPageSizes]="[10, 25, 50, 100]"></dxo-pager>
        <dxo-search-panel [visible]="true" [highlightCaseSensitive]="true"></dxo-search-panel>
        <dxo-filter-panel [visible]="true"></dxo-filter-panel>
        <dxo-group-panel [visible]="true"></dxo-group-panel>
        <dxo-grouping [autoExpandAll]="false"></dxo-grouping>
        <dxo-column-chooser [enabled]="true" mode="select">

        </dxo-column-chooser>
        <dxo-export [enabled]="(permissions.exprt_in==1)?true:false" [allowExportSelectedData]="true" fileName="Batch Jobs List"></dxo-export>
        <dxo-filter-row [visible]="true"></dxo-filter-row>
        <dxi-column *ngFor="let f of columndef" [visible]="!f.hide" [dataField]="f.field" [caption]="f.headerName"
          alignment="f.cellStyle.text-align" [width]="f.width" [allowResizing]="true" [alignment]="f.alignment"></dxi-column>
        <dxi-column [showInColumnChooser]="false" [visible]="(permissions.updt_in==1)?true:false" type="buttons"
          [width]="100" cellTemplate="runTemplate" caption="Re-Run">
          <div *dxTemplate="let data of 'runTemplate'">
            <div class="cursor-pointer" (click)="onRunCellClick(data)">
              Re Run
            </div>
          </div>
        </dxi-column>
        <dxi-column [showInColumnChooser]="false" [visible]="(permissions.updt_in==1)?true:false" type="buttons"
          [width]="100" cellTemplate="logTemplate" caption="Log">
          <div *dxTemplate="let data of 'logTemplate'">
            <div class="cursor-pointer" (click)="onLogCellClick(data)">
              log
            </div>
          </div>
        </dxi-column>


      </dx-data-grid>

    </div>
  </div>

</div>