<div id="profile" class="page-layout simple tabbed pageBackground">
    <div *ngIf="loader">
        <div class="loading-indicator">
            <div class="spinner-2">
              <img src="assets/images/logos/glits_D.png" style="max-width: 150%;">
            </div>
          </div>
    </div>
    <!-- HEADER -->

    <div class="user-info header p-24" fxLayout="column" fxLayoutAlign="center center" fxLayout.gt-sm="row"
        fxLayoutAlign.gt-sm="start center">

        <div fxFlex fxFlex.gt-lg="10%" fxFlex.gt-md="10%" fxFlex.gt-sm="10%" fxFlex.gt-xs="10%" fxLayoutGap="20px">
            <img *ngIf="orgnData" class="profile-image avatar huge" src="{{orgnData.mrcht_imge_url_tx}}">
        </div>
        <div class="name" fxFlex fxFlex.gt-lg="90%" fxFlex.gt-md="90%" fxFlex.gt-sm="90%" fxFlex.gt-xs="90%"
            fxLayoutGap="20px" class="font-weight-bold header-text-color">
            <p *ngIf="orgnData" class="font-size-20">{{orgnData.mrcht_nm}}</p>
            <p *ngIf="orgnData">{{orgnData.eml_tx}}</p>
            <p *ngIf="orgnData">{{orgnData.mble_ph}}</p>
            <p *ngIf="orgnData">{{orgnData.addr1_tx}}</p>
        </div>
    </div>

    <!-- </div> -->
    <!-- / HEADER -->

    <!-- CONTENT -->
    <div class="content">
        <!-- <mat-tab-group dynamicHeight="true"> -->
        <!-- <mat-tab label="About"> -->
        <div class="ds-card m-12">
            <div class="font-size-17 font-weight-500 pt-8 mb-0 pl-8 pb-8 red-800-fg">My Organisation</div>
            <mat-divider></mat-divider>
            <form fxLayout="column" [formGroup]="mrchtDataForm" class="m-24">
                <!-- <ng-template matStepLabel>Add User</ng-template> -->
                <div fxLayout="row" fxLayout.xs="column" fxFlexFill>
                    <mat-form-field appearance="outline" fxFlex="50" fxFlex.xs="100" class="px-8">
                        <mat-label>Organisation Name</mat-label>
                        <input matInput formControlName="mrcht_nm" [attr.disabled]="disable == true ? true : null">
                        <!-- <mat-error>Organisation Name is required!</mat-error> -->
                    </mat-form-field>
                    <mat-form-field appearance="outline" fxFlex="50" fxFlex.xs="100" class="px-8">
                        <mat-label>Organisation Display Name</mat-label>
                        <input matInput formControlName="mrcht_dsply_nm">
                        <mat-error>Organisation Display Name is required!</mat-error>
                    </mat-form-field>
                </div>

                <div fxLayout="row" fxLayout.xs="column" fxFlexFill>
                    <mat-form-field appearance="outline" fxFlex="50" fxFlex.xs="100" class="px-8">
                        <mat-label>Email</mat-label>
                        <input matInput formControlName="eml_tx">
                    </mat-form-field>
                    <mat-form-field appearance="outline" fxFlex="50" fxFlex.xs="100" class="px-8">
                        <mat-label>Mobile No</mat-label>
                        <input type="number" matInput formControlName="mble_ph">
                    </mat-form-field>
                </div>

                <div fxLayout="row" fxLayout.xs="column" fxFlexFill>
                    <mat-form-field appearance="outline" fxFlex="50" fxFlex.xs="100" class="px-8">
                        <mat-label>State</mat-label>
                        <mat-select formControlName="state" required>
                            <mat-option *ngFor="let s of steLst" [value]="s.ste_id">
                                {{s.ste_nm}}
                            </mat-option>
                        </mat-select>
                        <mat-error>designation is required!</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline" fxFlex="50" fxFlex.xs="100" class="px-8">
                        <mat-label>City</mat-label>
                        <mat-select formControlName="city" required>
                            <mat-option *ngFor="let c of ctyLst" [value]="c.cty_id">
                                {{c.cty_nm}}
                            </mat-option>
                        </mat-select>
                        <mat-error>department is required!</mat-error>
                    </mat-form-field>
                </div>

                <div fxLayout="row" fxLayout.xs="column" fxFlexFill>
                    <mat-form-field appearance="outline" fxFlex="50" fxFlex.xs="100" class="px-8">
                        <mat-label>Address</mat-label>
                        <input matInput formControlName="address">
                    </mat-form-field>
                    <div class="group-gap">
                            <div class="avatar-upload" fxLayout="row">

                                <div class="avatar-preview">
                                    <img [src]="imageUrl">
                                </div>
                                <div class="avatar-edit pt-16">
                                    <label>
                                        <input (change)="uploadFile($event)" type='file' id="imageUpload"
                                            accept=".png, .jpg, .jpeg" #fileInput style="color: #1b75b6;"
                                            style="display:none" />
                                        <span
                                            class="btn btn-primary font-size-16 font-weight-600 ml-16 border-radius-3 uploadImgBtn">
                                            <mat-icon _ngcontent-qri-c39=""
                                                class="secondary-text s-24 mat-icon notranslate material-icons mat-icon-no-color vertical-align-text-bottom addBtn-icon-color"
                                                role="img" aria-hidden="true">add_a_photo</mat-icon>
                                            Change Logo
                                        </span>
                                    </label>
                                </div>
                            </div>
                        </div>
                </div>

                <!-- <div fxLayout="row" fxLayout.xs="column" fxFlexFill>

                          <mat-form-field appearance="outline" fxFlex="100" class="px-8">
                              <mat-label>Address</mat-label>
                              <textarea matInput formControlName="address" required></textarea>
                              <mat-error>Address is required!</mat-error>
                          </mat-form-field>
                      </div> -->


                <div fxLayout="row" fxLayout.xs="column" fxFlexFill class="img-upld">
                    <div fxFlex="50" fxFlex.xs="100" class="pt-8 ">
                       
                    </div>
                </div>
                    
                <div class="pt-8 text-center">
                    <button mat-raised-button color="accent" class="submit-button" aria-label="Save Changes"
                        [disabled]="mrchtDataForm.invalid" (click)="saveMrchtData()">
                        Save Changes
                    </button>
                    <div class="spnr-styl" *ngIf="spnrCtrl">Please wait.. <mat-spinner diameter="20">
                        </mat-spinner>
                    </div>
                </div>
                <!-- </div> -->
            </form>
        </div>
        <div class="col-lg-2 col-md-2"></div>
        <!-- </mat-tab> -->

        <!-- <mat-tab label="Change Password">
              <div class="row">
                  <div class="col-lg-3 col-md-3"></div>
                  <div class="col-lg-6 col-md-6" style="margin: 4% 0%; background: #fff; padding: 2%;">
                      <div id="reset-password-form">

                          <div class="title">CHANGE YOUR PASSWORD</div>

                          <form name="resetPasswordForm" [formGroup]="resetPasswordForm" novalidate>
                              <mat-error style="text-align: center;" *ngIf="err_msg">
                                  <span>{{err_msg}}</span> <br />
                              </mat-error>

                              <mat-form-field appearance="outline">
                                  <mat-label>Enter Old Password</mat-label>
                                  <input matInput type="password" formControlName="old_pswrd">
                                  <mat-icon matSuffix class="secondary-text">vpn_key</mat-icon>
                                  <mat-error *ngIf="resetPasswordForm.get('old_pswrd').hasError('required')">
                                      Old Password is required
                                  </mat-error>
                              </mat-form-field>

                              <mat-form-field appearance="outline">
                                  <mat-label>New Password</mat-label>
                                  <input matInput type="password" formControlName="nw_pswrd">
                                  <mat-icon matSuffix class="secondary-text">vpn_key</mat-icon>
                                  <mat-error *ngIf="resetPasswordForm.get('nw_pswrd').hasError('required')">
                                      Password is required
                                  </mat-error>
                              </mat-form-field>

                              <mat-form-field appearance="outline">
                                  <mat-label>Password (Confirm)</mat-label>
                                  <input matInput type="password" formControlName="passwordConfirm">
                                  <mat-icon matSuffix class="secondary-text">vpn_key</mat-icon>
                                  <mat-error *ngIf="resetPasswordForm.get('passwordConfirm').hasError('required')">
                                      Password confirmation is required
                                  </mat-error>
                                  <mat-error
                                      *ngIf="!resetPasswordForm.get('passwordConfirm').hasError('required') &&
                                                                         resetPasswordForm.get('passwordConfirm').hasError('passwordsNotMatching')">
                                      Passwords must match
                                  </mat-error>
                              </mat-form-field>

                              <button mat-raised-button class="submit-button" color="accent"
                                  aria-label="RESET MY PASSWORD" [disabled]="resetPasswordForm.invalid"
                                  (click)="submit()">
                                  Submit
                              </button>
                          </form>
                      </div>
                  </div>
                  <div class="col-lg-3 col-md-3"></div>
              </div>
          </mat-tab> -->

        <!-- </mat-tab-group> -->
    </div>

</div>